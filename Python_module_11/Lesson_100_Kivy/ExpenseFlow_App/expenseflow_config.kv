#: import Factory kivy.factory.Factory

<MainScreen>:
    BoxLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 0.93
            Rectangle:
                size: self.size
                pos: self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

        
    BoxLayout:
        canvas:
            Color:
                rgba: 0.15, 0.15, 0.15, 1
            Rectangle:
                size: 400, 2000
                pos:self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

    FloatLayout:
        orientation: 'vertical'
        Image:
            source: 'img/ExpenseFlow.png'
            size_hint: 0.2, 0.1
            pos_hint: {'top': 1}

        Button:
            id: categories_btn
            background_normal: 'img/categories.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.8}
            on_release: root.manager.current = 'Categories'

        Button:
            id: balance_btn
            background_normal: 'img/balance.png'
            text: '$0'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 145
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.7}
            on_release: Factory.BalancePopup().open()

        Button:
            id: transactions_btn
            background_normal: 'img/all_transactions.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.6}
            on_release: root.manager.current = 'Transactions'

        Image:
            source: 'img/Accounts.png'
            size_hint: 0.4, 0.3
            size_hint_x: 0.1
            pos_hint: {'left': 1, 'y': 0.4}

        Button:
            id: account_btn
            background_normal: 'img/Account.png'
            text: '$0'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.43}
            on_release: root.manager.current = 'Account'

        Button:
            id: add_transaction
            background_normal: 'img/add_transaction.png'
            size_hint: 0.25, 0.05
            pos_hint: {'left': 1}
            on_release: Factory.TransactionPopup().open()

<CategoriesScreen>:

    BoxLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 0.93
            Rectangle:
                size: self.size
                pos: self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'
    FloatLayout:
        orientation: 'vertical'
        Image:
            source: 'img/Categories_label.png'
            size_hint_x: 1.23
            size_hint_y: 0.07
            pos_hint: {'top': 1}

        Button: 
            id: groceries_category
            background_normal: 'img/Groceries label.png'
            text: '1 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.86, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()
    
        Button: 
            id: transport_category
            background_normal: 'img/Transport label.png'
            text: '0 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.76, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()

        Button: 
            id: shopping_category
            background_normal: 'img/Shopping label.png'
            text: '0 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.66, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()

        Button: 
            id: health_category
            background_normal: 'img/Health label.png'
            text: '0 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.56, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()

        Button: 
            id: home_category
            background_normal: 'img/Home label.png'
            text: '0 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.46, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()

        Button: 
            id: salary_category
            background_normal: 'img/Salary label.png'
            text: '0 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.36, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()

        Button: 
            id: entertainment_category
            background_normal: 'img/Entertainment label.png'
            text: '0 transaction'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 130
            size_hint_x: 1.23
            size_hint_y: 0.5
            size_hint: 0.47, 0.074
            pos_hint: {'top': 0.26, 'right': 0.86}
            on_release: Factory.CategoryTransactionPopup().open()
        
    BoxLayout:
        canvas:
            Color:
                rgba: 0.15, 0.15, 0.15, 1
            Rectangle:
                size: 400, 2000
                pos:self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

    FloatLayout:
        orientation: 'vertical'



        Image:
            source: 'img/ExpenseFlow.png'
            size_hint: 0.2, 0.1
            pos_hint: {'top': 1}

        Button:
            id: categories_btn
            background_normal: 'img/categories.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.8}

        Button:
            id: balance_btn
            background_normal: 'img/balance.png'
            text: '$0'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 145
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.7}
            on_release: Factory.BalancePopup().open()

        Button:
            id: transactions_btn
            background_normal: 'img/all_transactions.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.6}
            on_press: root.manager.current = 'Transactions'

        Image:
            source: 'img/Accounts.png'
            size_hint: 0.4, 0.3
            size_hint_x: 0.1
            pos_hint: {'left': 1, 'y': 0.4}

        Button:
            id: account_btn
            background_normal: 'img/account.png'
            text: '$0'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.43}
            on_release: root.manager.current = 'Account'

        Button:
            id: add_transaction
            background_normal: 'img/add_transaction.png'
            size_hint: 0.25, 0.05
            pos_hint: {'left': 1}
            on_release: Factory.TransactionPopup().open()

<TransactionsScreen>:

    BoxLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 0.93
            Rectangle:
                size: self.size
                pos: self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

    FloatLayout:
        orientation: 'vertical'
        Image:
            source: 'img/All Transactions-2.png'
            size_hint_x: 1.23
            size_hint_y: 0.07
            pos_hint: {'top': 1}
        
    BoxLayout:
        canvas:
            Color:
                rgba: 0.15, 0.15, 0.15, 1
            Rectangle:
                size: 400, 2000
                pos:self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

    FloatLayout:
        orientation: 'vertical'
        Image:
            source: 'img/ExpenseFlow.png'
            size_hint: 0.2, 0.1
            pos_hint: {'top': 1}

        Button:
            id: categories_btn
            background_normal: 'img/categories.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.8}
            on_release: root.manager.current = 'Categories'

        Button:
            id: balance_btn
            background_normal: 'img/balance.png'
            text: '$0'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 145
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.7}
            on_release: Factory.BalancePopup().open()

        Button:
            id: transactions_btn
            background_normal: 'img/all_transactions.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.6}

        Image:
            source: 'img/Accounts.png'
            size_hint: 0.4, 0.3
            size_hint_x: 0.1
            pos_hint: {'left': 1, 'y': 0.4}

        Button:
            id: account_btn
            background_normal: 'img/account.png'
            text: '$0'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.43}
            on_release: root.manager.current = 'Account'

        Button:
            id: add_transaction
            background_normal: 'img/add_transaction.png'
            size_hint: 0.25, 0.05
            pos_hint: {'left': 1}
            on_release: Factory.TransactionPopup().open()

<AccountScreen>:

    BoxLayout:
        canvas:
            Color:
                rgba: 0, 0, 0, 0.93
            Rectangle:
                size: self.size
                pos: self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

    FloatLayout:
        orientation: 'vertical'
        Label:
            text: '$0'
            size_hint_x: 1.228
            size_hint_y: 0.07
            pos_hint: {'top': 1}

        Label: 
            text: 'Cash'
            font_size: 24
            color: 0.70, 0.70, 0.70, 1
            size_hint_x: 1.23
            size_hint_y: 0.07
            pos_hint: {'top': 0.97}
        
    BoxLayout:
        canvas:
            Color:
                rgba: 0.15, 0.15, 0.15, 1
            Rectangle:
                size: 400, 2000
                pos:self.pos
        spacing: 10
        padding: 10
        orientation: 'vertical'

    FloatLayout:
        orientation: 'vertical'
        Image:
            source: 'img/ExpenseFlow.png'
            size_hint: 0.2, 0.1
            pos_hint: {'top': 1}

        Button:
            id: categories_btn
            background_normal: 'img/categories.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.8}
            on_release: root.manager.current = 'Categories'

        Button:
            id: balance_btn
            background_normal: 'img/balance.png'
            text: '$0'
            color: 0.70, 0.70, 0.70, 1
            font_size: 21
            text_size: self.size     
            halign: 'left'
            valign: 'bottom'
            padding: 15
            padding_x: 145
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.7}
            on_release: Factory.BalancePopup().open()

        Button:
            id: transactions_btn
            background_normal: 'img/all_transactions.png'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.6}
            on_release: root.manager.current = 'Transactions'

        Image:
            source: 'img/Accounts.png'
            size_hint: 0.4, 0.3
            size_hint_x: 0.1
            pos_hint: {'left': 1, 'y': 0.4}

        Button:
            id: account_btn
            background_normal: 'img/account.png'
            text: '$0'
            size_hint: 0.22, 0.079
            pos_hint: {'left': 1, 'y': 0.43}
            on_release: root.manager.current = 'Account'

        Button:
            id: add_transaction
            background_normal: 'img/add_transaction.png'
            size_hint: 0.25, 0.05
            pos_hint: {'left': 1}
            on_release: Factory.TransactionPopup().open()

     


<CategoryTransactionPopup@Popup>
    id: category_popup
    auto_dismiss: True
    title: ""
    separator_height: 0
    size_hint: 0.45, 0.55
    

    FloatLayout:
        orientation: "vertical"
        size: 0.5, 0.5
        padding: 0, 10, 10, 10
        border: 50
        border_color: (0.15, 0.15, 0.15, 1)
        canvas.before:
            Color:
                rgba: 0.15, 0.15, 0.15, 1

            RoundedRectangle:
                pos: self.x - 30, self.y - 30
                size: self.width + 60, self.height + 95
                radius: [30]

        Image:
            source: 'img/Category Transactions.png'
            size_hint_x: 2.4
            size_hint_y: 0.07
            pos_hint: {'top': 1.07}

<BalancePopup@Popup>:    
    id: balance_popup
    auto_dismiss: True
    title: ""
    separator_height: 0
    size_hint: 0.45, 0.55
    

    FloatLayout:
        orientation: "vertical"
        size: 0.5, 0.5
        padding: 0, 10, 10, 10
        border: 50
        border_color: (0.15, 0.15, 0.15, 1)
        canvas.before:
            Color:
                rgba: 0.15, 0.15, 0.15, 1

            RoundedRectangle:
                pos: self.x - 30, self.y - 30
                size: self.width + 60, self.height + 95
                radius: [30]

        Image:
            source: 'img/Balance_popup.png'
            size_hint_x: 2.38
            size_hint_y: 0.07
            pos_hint: {'top': 1.07}

        Image: 
            source: 'img/CURRENT.png'
            size_hint_x: 1.67
            size_hint_y: 0.07
            pos_hint: {'top': 0.88}

        Label:
            id: display_balance
            text: '$0'
            font_size: 40
            size_hint_x: 1.5
            size_hint_y: 0.07
            pos_hint: {'top': 0.8}
